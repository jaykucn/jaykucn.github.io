(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-31e3126f"],{"23ce":function(e,r,o){"use strict";o.r(r);var t=function(){var e=this,r=e.$createElement,o=e._self._c||r;return o("transition",{attrs:{appear:""},on:{"before-enter":e.beforeEnter,enter:e.enter}},[o("div",{attrs:{id:"login"}},[o("div",{staticClass:"login-wrap"},[o("p",{staticStyle:{color:"#b5b2b2"}},[o("i",{staticClass:"el-icon-user"}),e._v("添加账户")]),o("el-form",{ref:"loginForm",staticClass:"login-box",attrs:{model:e.loginForm,rules:e.rules,size:"medium"}},[o("el-divider",[o("i",{staticClass:"el-icon-loading"})]),o("el-form-item",{staticClass:"form-item",attrs:{prop:"username"}},[o("label",[e._v("新增账号")]),o("el-input",{attrs:{type:"text",placeholder:"请输入账号"},model:{value:e.loginForm.username,callback:function(r){e.$set(e.loginForm,"username",r)},expression:"loginForm.username"}})],1),o("el-form-item",{staticClass:"form-item",attrs:{prop:"password"}},[o("label",[e._v("密码")]),o("el-input",{attrs:{type:"password",placeholder:"请输入密码","show-password":""},model:{value:e.loginForm.password,callback:function(r){e.$set(e.loginForm,"password",r)},expression:"loginForm.password"}})],1),o("el-form-item",{staticClass:"form-item",attrs:{prop:"repeatPassword"}},[o("label",[e._v("重复密码")]),o("el-input",{attrs:{type:"password",placeholder:"请重复密码","show-password":""},model:{value:e.loginForm.repeatPassword,callback:function(r){e.$set(e.loginForm,"repeatPassword",r)},expression:"loginForm.repeatPassword"}})],1),o("el-form-item",{staticClass:"form-item",attrs:{prop:"role"}},[o("label",[e._v("设定权限")]),o("el-select",{attrs:{placeholder:"请选择权限"},model:{value:e.loginForm.role,callback:function(r){e.$set(e.loginForm,"role",r)},expression:"loginForm.role"}},[o("el-option",{attrs:{label:"管理员",value:"ROLE_admin"}}),o("el-option",{attrs:{label:"超级管理员",value:"ROLE_superAdmin"}})],1)],1),o("el-form-item",[o("el-button",{staticClass:"login-btn block",attrs:{type:"danger"},on:{click:function(r){return e.submitForm("loginForm")}}},[e._v(" 注册添加 ")])],1)],1)],1)])])},s=[],a=o("a6f4"),n=o("7ded"),l=o("cffa"),i={name:"AdministratorNewAnAccount",setup:function(e,r){var o=r.root.$message,t=r.root.$router,s=(r.root.$store,function(e){console.log("beforeEnter-- set initial state 设置初始化状态"),e.style.transform="translateX(100px)",e.style.opacity=0}),i=function(e,r){console.log(" starting to enter-- make transition 开始动画"),l["a"].to(e,{duration:.5,x:0,opacity:1,onComplete:r})},c=function(e,r,o){var t=/^[0-9a-zA-Z]{5,15}$/;""===r?o(new Error("请输入您的账号")):t.test(r)?o():o(new Error("输入的账号格式有误,需5-15位数字字母"))},u=function(e,r,o){var t=/^[0-9a-zA-Z]{5,25}$/;""===r?o(new Error("请输入密码")):t.test(r)?o():o(new Error("请检查您的密码,需5到25位数字字母"))},m=function(e,r,o){""===r?o(new Error("请重复密码")):r!==p.password?o(new Error("密码不一致")):o()},p=Object(a["c"])({username:"",password:"",repeatPassword:"",role:""}),d=Object(a["c"])({username:[{validator:c,trigger:"blur"}],password:[{validator:u,trigger:"blur"}],repeatPassword:[{validator:m,trigger:"blur"}],role:[{required:!0,message:"权限不能为空",trigger:"blur"}]}),f=function(e){r.refs[e].validate((function(e){if(!e)return console.log("error submit"),!1;g()}))},g=function(){var e={username:p.username,password:p.password,role:p.role};Object(n["adminRegister"])(e).then((function(e){2001!==e.data.code&&3001!==e.data.code?(console.log(e.data),console.log("注册结果"),console.log(e),o.success("注册成功,请管理员登录"),t.push("/admin/administratorLogin")):(o.error("权限不足,请检查"),console.log(e.data))})).catch((function(e){}))};return{loginForm:p,rules:d,submitForm:f,register:g,beforeEnter:s,enter:i}}},c=i,u=(o("40e1"),o("2877")),m=Object(u["a"])(c,t,s,!1,null,"0964a209",null);r["default"]=m.exports},"40e1":function(e,r,o){"use strict";o("a233")},a233:function(e,r,o){}}]);
//# sourceMappingURL=chunk-31e3126f.f5bfbdda.js.map